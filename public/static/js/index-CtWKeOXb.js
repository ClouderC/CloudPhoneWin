var H=(g,f,d)=>new Promise((h,_)=>{var M=a=>{try{v(d.next(a))}catch(p){_(p)}},k=a=>{try{v(d.throw(a))}catch(p){_(p)}},v=a=>a.done?h(a.value):Promise.resolve(a.value).then(M,k);v((d=d.apply(g,f)).next())});import{v as Z,ae as A,F,al as T,r as B,e as U,o as E,C as I,p as w,G as e,K as L,L as b,H as s,R as i,k as n,D as C,a9 as q,b5 as P,u as G,w as J,b6 as V,q as x,J as $,Q as K,S as Q,_ as j}from"./index-DqYxAufE.js";import{l as O}from"./rule-BGnYMo3V.js";import{f as W,c as X,b as Y,a as S}from"./hooks-C3kcsp3M.js";const y=Z({name:"Motion",props:{delay:{type:Number,default:50}},render(){const{delay:g}=this,f=A("motion");return F(T("div",{},{default:()=>[this.$slots.default()]}),[[f,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:g}}}]])}}),ee={width:24,height:24,body:'<path fill="currentColor" d="M19 10h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h1V9a7 7 0 0 1 14 0v1Zm-2 0V9A5 5 0 0 0 7 9v1h10Zm-6 4v4h2v-4h-2Z"/>'},te={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2Zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12Z"/>'},oe={class:"select-none"},ae={class:"animated-background"},se={class:"floating-phones"},ne={class:"particles"},le={class:"clouds"},re={class:"login-container"},ie={class:"login-box"},de={class:"login-form"},ue={class:"outline-none login-title"},ce=Z({name:"Login",__name:"index",setup(g){const f=G(),d=B(!1),h=B(),{initStorage:_}=W();_();const{overallStyle:M,dataThemeChange:k}=X();k(M.value);const{title:v}=Y(),a=U({username:"admin",password:"admin123"}),p=u=>H(null,null,function*(){u&&(yield u.validate((t,r)=>{t&&(d.value=!0,q().loginByUsername({username:a.username,password:a.password}).then(o=>{if(o.success)return P().then(()=>{f.push(J(!0).path).then(()=>{V("登录成功",{type:"success"})})});V(o.message||"登录失败，请检查用户名和密码",{type:"error"})}).catch(o=>{console.error("登录错误:",o),V(o.message||"登录失败，请稍后重试",{type:"error"})}).finally(()=>d.value=!1))}))});function D({code:u}){["Enter","NumpadEnter"].includes(u)&&p(h.value)}const z=u=>{const t=Math.random()*20,r=15+Math.random()*10,o=20+Math.random()*15,c=Math.random()*100,m=.1+Math.random()*.2;return{left:`${c}%`,animationDelay:`${t}s`,animationDuration:`${r}s`,width:`${o}px`,height:`${o}px`,opacity:m}},R=u=>{const t=Math.random()*15,r=10+Math.random()*15,o=2+Math.random()*4,c=Math.random()*100,m=.3+Math.random()*.4;return{left:`${c}%`,animationDelay:`${t}s`,animationDuration:`${r}s`,width:`${o}px`,height:`${o}px`,opacity:m}},N=u=>{const t=Math.random()*30,r=25+Math.random()*15,o=40+Math.random()*30,c=Math.random()*100,m=.05+Math.random()*.1;return{left:`${c}%`,animationDelay:`${t}s`,animationDuration:`${r}s`,width:`${o}px`,height:`${o}px`,opacity:m}};return E(()=>{window.document.addEventListener("keypress",D)}),I(()=>{window.document.removeEventListener("keypress",D)}),(u,t)=>{const r=C("el-input"),o=C("el-form-item"),c=C("el-button"),m=C("el-form");return x(),w("div",oe,[e("div",ae,[t[5]||(t[5]=e("div",{class:"gradient-bg"},null,-1)),t[6]||(t[6]=e("div",{class:"circuit-pattern"},null,-1)),e("div",se,[(x(),w(L,null,b(8,l=>e("div",{class:"phone-icon",key:l,style:$(z())},t[3]||(t[3]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21C5,22.11 5.89,23 7,23H17C18.11,23 19,22.11 19,21V3C19,1.89 18.11,1 17,1Z"})],-1)]),4)),64))]),e("div",ne,[(x(),w(L,null,b(20,l=>e("div",{class:"particle",key:l,style:$(R())},null,4)),64))]),e("div",le,[(x(),w(L,null,b(3,l=>e("div",{class:"cloud",key:l,style:$(N())},t[4]||(t[4]=[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M19.35,10.04C18.67,6.59 15.64,4 12,4C9.11,4 6.6,5.64 5.35,8.04C2.34,8.36 0,10.91 0,14A6,6 0 0,0 6,20H19A5,5 0 0,0 24,15C24,12.36 21.95,10.22 19.35,10.04Z"})],-1)]),4)),64))])]),t[9]||(t[9]=e("div",{class:"flex-c absolute right-5 top-3 z-10"},null,-1)),e("div",re,[e("div",ie,[e("div",de,[s(n(y),null,{default:i(()=>[e("h2",ue,K(n(v)),1)]),_:1}),s(m,{ref_key:"ruleFormRef",ref:h,model:a,rules:n(O),size:"large"},{default:i(()=>[s(n(y),{delay:100,class:"form-item-wrapper"},{default:i(()=>[s(o,{rules:[{required:!0,message:"请输入账号",trigger:"blur"}],prop:"username"},{default:i(()=>[s(r,{modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=l=>a.username=l),clearable:"",placeholder:"账号","prefix-icon":n(S)(n(te))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),s(n(y),{delay:150,class:"form-item-wrapper"},{default:i(()=>[s(o,{prop:"password"},{default:i(()=>[s(r,{modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=l=>a.password=l),clearable:"","show-password":"",placeholder:"密码","prefix-icon":n(S)(n(ee))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),s(n(y),{delay:250},{default:i(()=>[s(c,{class:"w-full mt-4",size:"default",type:"primary",loading:d.value,onClick:t[2]||(t[2]=l=>p(h.value))},{default:i(()=>t[7]||(t[7]=[Q(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])]),s(n(y),{delay:300},{default:i(()=>t[8]||(t[8]=[e("div",{class:"author-info"},[e("div",{class:"author-text"},"Developed by 技术宅男"),e("div",{class:"contact-links"},[e("a",{href:"mailto:whitewolf2025@duck.com",class:"contact-link email",title:"邮箱联系-长久使用"},[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,5.11 21.11,4 20,4Z"})]),e("span",null,"whitewolf2025@duck.com")]),e("a",{href:"https://t.me/ItBoy0",target:"_blank",class:"contact-link telegram",title:"Telegram联系-随时失效"},[e("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M9.78,18.65L10.06,14.42L17.74,7.5C18.08,7.19 17.67,7.04 17.22,7.31L7.74,13.3L3.64,12C2.76,11.75 2.75,11.14 3.84,10.7L19.81,4.54C20.54,4.21 21.24,4.72 20.96,5.84L18.24,18.65C18.05,19.56 17.5,19.78 16.74,19.36L12.6,16.3L10.61,18.23C10.38,18.46 10.19,18.65 9.78,18.65Z"})]),e("span",null,"@技术宅男")])])],-1)])),_:1})])])}}}),ve=j(ce,[["__scopeId","data-v-e51bea90"]]);export{ve as default};
